{"ast":null,"code":"var _jsxFileName = \"/Users/antontuominen/Desktop/train_api/react_train/src/Form.js\";\nimport React, { Component } from 'react';\nimport './Form.css';\nimport axios from 'axios';\nconst API_BASE_URL = \"https://rata.digitraffic.fi/api/v1/\";\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: undefined,\n      station: \"\",\n      shortCode: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  async handleSubmit(evt) {\n    evt.preventDefault();\n    let response = await axios.get(\"\".concat(API_BASE_URL, \"metadata/stations\"));\n    let data = response.data;\n    let asema = \"\";\n    this.setState({\n      response: response\n    });\n\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].stationName === this.state.station) {\n        asema = data[i].stationShortCode;\n        break;\n      } else {\n        asema = 'nani?!?!';\n      }\n    }\n\n    this.setState({\n      shortCode: asema\n    });\n  }\n\n  handleChange(evt) {\n    this.setState({\n      station: evt.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Junan l\\xE4ht\\xF6asema\", React.createElement(\"input\", {\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Junan kohdeasema\", React.createElement(\"input\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Junan numero\", React.createElement(\"input\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Form;","map":{"version":3,"sources":["/Users/antontuominen/Desktop/train_api/react_train/src/Form.js"],"names":["React","Component","axios","API_BASE_URL","Form","constructor","props","state","response","undefined","station","shortCode","handleSubmit","bind","handleChange","evt","preventDefault","get","data","asema","setState","i","length","stationName","stationShortCode","target","value","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,MAAMC,YAAY,GAAG,qCAArB;;AAKA,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AAIzBI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAEC,SADD;AAETC,MAAAA,OAAO,EAAE,EAFA;AAGTC,MAAAA,SAAS,EAAE;AAHF,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACH;;AAGD,QAAMD,YAAN,CAAmBG,GAAnB,EAAwB;AACpBA,IAAAA,GAAG,CAACC,cAAJ;AACA,QAAIR,QAAQ,GAAG,MAAMN,KAAK,CAACe,GAAN,WAAad,YAAb,uBAArB;AAEA,QAAIe,IAAI,GAAGV,QAAQ,CAACU,IAApB;AACA,QAAIC,KAAK,GAAG,EAAZ;AACA,SAAKC,QAAL,CAAc;AACVZ,MAAAA,QAAQ,EAAEA;AADA,KAAd;;AAGA,SAAK,IAAIa,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAAI,CAACI,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClC,UAAIH,IAAI,CAACG,CAAD,CAAJ,CAAQE,WAAR,KAAwB,KAAKhB,KAAL,CAAWG,OAAvC,EAAgD;AAC5CS,QAAAA,KAAK,GAAGD,IAAI,CAACG,CAAD,CAAJ,CAAQG,gBAAhB;AACA;AACH,OAHD,MAIK;AACDL,QAAAA,KAAK,GAAG,UAAR;AACH;AAEJ;;AAID,SAAKC,QAAL,CAAc;AACVT,MAAAA,SAAS,EAAEQ;AADD,KAAd;AAKH;;AAEDL,EAAAA,YAAY,CAACC,GAAD,EAAM;AACd,SAAKK,QAAL,CAAc;AACVV,MAAAA,OAAO,EAAEK,GAAG,CAACU,MAAJ,CAAWC;AADV,KAAd;AAGH;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,QAAQ,EAAE,KAAKf,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEA;AAAO,MAAA,QAAQ,EAAE,KAAKE,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CALJ,EASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CATJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbJ,CADJ,CADJ;AAoBH;;AAxEwB;;AA2E7B,eAAeV,IAAf","sourcesContent":["import React, { Component } from 'react'\nimport './Form.css'\nimport axios from 'axios'\n\n\nconst API_BASE_URL = \"https://rata.digitraffic.fi/api/v1/\";\n\n\n\n\nclass Form extends Component {\n\n\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            response: undefined,\n            station: \"\",\n            shortCode: \"\"\n        }\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n\n    async handleSubmit(evt) {\n        evt.preventDefault();\n        let response = await axios.get(`${API_BASE_URL}metadata/stations`);\n\n        let data = response.data;\n        let asema = \"\";\n        this.setState({\n            response: response\n        })\n        for (let i = 0; i < data.length; i++) {\n            if (data[i].stationName === this.state.station) {\n                asema = data[i].stationShortCode;\n                break;\n            }\n            else {\n                asema = 'nani?!?!';\n            }\n\n        }\n\n\n\n        this.setState({\n            shortCode: asema\n\n        })\n\n    }\n\n    handleChange(evt) {\n        this.setState({\n            station: evt.target.value\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={this.handleSubmit}>\n                    <div>\n                        Junan lähtöasema\n                    <input onChange={this.handleChange}></input>\n                    </div>\n                    <div>\n                        Junan kohdeasema\n                        <input></input>\n                    </div>\n                    <div>\n                        Junan numero\n                        <input></input>\n                    </div>\n                    <button></button>\n                </form>\n\n            </div>\n        )\n    }\n}\n\nexport default Form"]},"metadata":{},"sourceType":"module"}